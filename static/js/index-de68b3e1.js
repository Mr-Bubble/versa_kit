import{_ as g,r as v,k as w,o as b,c as h,a as o,b as d,e as t,f as S,p as V,h as y}from"./index-e22f5d96.js";import{a as i,F as I,b as x,C as L,B as q}from"./index-3c9d65dd.js";import{S as k}from"./index-bb909b22.js";import{h as U,s as Z,c as B}from"./index-119b8c67.js";import"./use-id-60c7bb0d.js";function C(n){return U.request({url:"https://sport-api.yyink.cn/api/mi",method:"get",params:n})}const F=n=>(V("data-v-bbca1841"),n=n(),y(),n),N={class:"zh-body"},P={style:{margin:"16px"}},T=F(()=>t("div",{class:"zh_footer_tips"},[t("h4",{class:"app-font-danger"},"使用说明:"),t("p",null," 1、首次使用请在应用商店中下载 [Zepp Life] APP，打开软件并选择'没有账号立即注册'，一定要新注册不能用第三方账号授权登录 "),t("p",null," 2、进入 [Zepp Life] app，依次点击: 我的->第三方接入->绑定你想同步数据的平台。 "),t("p",null,"3、使用此小程序进行提交。"),t("p",{class:"text-red"}," 4、特别注意: 首次提交后因账号刚注册官方安全限制第一次不会同步,需要等 24 小时后再来提交方可同步,后续使用不再有此限制 "),t("p",null,"5、仅供学习交流，严禁用于商业用途，请于24小时内删除")],-1)),z={__name:"index",setup(n){const s=v({user_name:"",password:"",is_save:!1});w(()=>{const a=localStorage.getItem("user_name"),e=localStorage.getItem("password");a&&e&&(s.user_name=a,s.password=e,s.is_save=!0)});const _=a=>{a||(localStorage.removeItem("user_name"),localStorage.removeItem("password"))},c=()=>{const a=new URLSearchParams,{user_name:e,password:r,step:m,is_save:u}=s;a.append("user",e),a.append("password",r),a.append("step",m),Z({message:"加载中...",forbidClick:!0,duration:0}),C(a).then(p=>{B(),u?(localStorage.setItem("user_name",e),localStorage.setItem("password",r)):(localStorage.removeItem("user_name"),localStorage.removeItem("password")),p.code===200?i({type:"success",message:p.msg||"提交成功"}):i({type:"danger",message:p.msg||"提交失败"})})};return(a,e)=>{const r=x,m=k,u=L,p=q,f=I;return b(),h("div",N,[o(f,{onSubmit:c},{default:d(()=>[o(u,{inset:""},{default:d(()=>[o(r,{modelValue:s.user_name,"onUpdate:modelValue":e[0]||(e[0]=l=>s.user_name=l),name:"user_name",label:"账号",placeholder:"请输入 Zepp Life 账号",required:"",rules:[{required:!0,message:"请输入 Zepp Life 账号"}]},null,8,["modelValue"]),o(r,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l),type:"password",name:"password",label:"密码",placeholder:"请输入 Zepp Life 密码",required:"",rules:[{required:!0,message:"请输入 Zepp Life 密码"}]},null,8,["modelValue"]),o(r,{modelValue:s.step,"onUpdate:modelValue":e[2]||(e[2]=l=>s.step=l),name:"step",type:"digit",label:"步数",placeholder:"请输入步数",required:"",rules:[{required:!0,message:"请输入步数"}]},null,8,["modelValue"]),o(r,{name:"is_save",label:"记住账号密码"},{input:d(()=>[o(m,{modelValue:s.is_save,"onUpdate:modelValue":e[3]||(e[3]=l=>s.is_save=l),onChange:_},null,8,["modelValue"])]),_:1})]),_:1}),t("div",P,[o(p,{round:"",block:"",type:"primary","native-type":"submit"},{default:d(()=>[S(" 提交 ")]),_:1})])]),_:1}),T])}}},R=g(z,[["__scopeId","data-v-bbca1841"]]);export{R as default};
