import{av as u,j as d,y as r,m as a,s as m,v as p,k as f,a as i,a5 as g,K as k,Y as v}from"./index-e81875e3.js";import{p as w,P as y,m as S,b as h}from"./index-47ad99eb.js";let P=0;function $(){const e=u(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++P}`}const[b,N]=d("notify"),C=r({},w,{type:a("danger"),color:String,message:m,position:a("top"),className:p,background:String,lockScroll:Boolean});var I=f({name:b,props:C,emits:["update:show"],setup(e,{emit:t,slots:n}){const c=l=>t("update:show",l);return()=>i(y,{show:e.show,class:[N([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,zIndex:e.zIndex,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":c},{default:()=>[n.default?n.default():e.message]})}});let s,o;const O=e=>k(e)?e:{message:e};function x(){({instance:o}=S({setup(){const{state:e,toggle:t}=h();return()=>i(I,v(e,{"onUpdate:show":t}),null)}}))}const j=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});let z=j();const B=()=>{o&&o.toggle(!1)};function D(e){if(g)return o||x(),e=r({},z,O(e)),o.open(e),clearTimeout(s),e.duration>0&&(s=setTimeout(B,e.duration)),o}export{D as a,I as s,$ as u};
